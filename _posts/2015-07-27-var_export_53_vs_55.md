---
author: Jason Davis
layout: post
title: var_export() fatal on php 5.3 to warning on php 5.5
---

Using var_export on objects with recursive dependencies got demoted from a fatal to a warning somewhere between php 5.3 and 5.5


php 5.3
```php
PHP Fatal error:  Nesting level too deep - recursive dependency?
 'type’ => 1,
 'message’ => ‘Nesting level too deep - recursive dependency?’,
```


php 5.5
```php
Warning: var_export does not handle circular references 
 'type’ => 2,
 'message’ => 'var_export does not handle circular references’,
```

A simple demo using php 7.0
```php
php > $a = new StdClass();
php > $b = new StdClass();
php > $a->objB = $b;
php > $b->objA = $a;
php > var_export($a);
PHP Warning:  var_export does not handle circular references in php shell code on line 1
stdClass::__set_state(array(
   'objB' =>
  stdClass::__set_state(array(
     'objA' => NULL,
  )),
))

```
In the 5.3 days my fallback option was var_dump(). var_dump() displays circular references as `*RECURSION*` rather than issuing a warning (or a Fatal in 5.3).

```php
php > var_dump($a);
object(stdClass)#1 (1) {
  ["objB"]=>
  object(stdClass)#2 (1) {
    ["objA"]=>
    *RECURSION*
  }
}

```